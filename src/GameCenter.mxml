<?xml version="1.0" encoding="utf-8"?>
<!-- 
        项目名称：游戏中心
        开始时间：2015/7/20
	   作者：        James 
-->
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" xmlns:s="library://ns.adobe.com/flex/spark" xmlns:mx="library://ns.adobe.com/flex/mx" creationComplete="init()">
	
	<fx:Script>
		<![CDATA[
			import mx.events.ModuleEvent;
			import business.Main;
			
			private var main:Main = new Main();
			public var assetsObject:Object;
			
			/**
			 * 初始化加载方法
			 */
			private function init():void
			{
				main.init();
			}
			
			/**
			 * 素材加载器完成
			 */
			public function ImageLoadDone(assObj:Object):void
			{
				assetsObject = new Object();
				assetsObject = assObj;
				
				HeadModule.url = "view/GameHead.swf";
				FootModule.url = "view/GameFoot.swf";
			}
			
		]]>
	</fx:Script>
	<fx:Declarations>
		<!-- 将非可视元素（例如服务、值对象）放在此处 -->
	</fx:Declarations> 
	
	<s:VGroup id="warp" width="100%" height="100%">
		<!--模块页面切换器-->
		<mx:ViewStack width="100%" height="100%" selectedIndex="0" creationPolicy="all">
		<s:NavigatorContent >
			<s:VGroup id="loadPage" width="100%" height="100%" verticalAlign="middle" horizontalAlign="center">
				<s:Label id="msg" fontSize="20" />
			</s:VGroup>
		</s:NavigatorContent>
		<s:NavigatorContent >
			<s:VGroup id="gamePage" width="100%" height="100%">
				<!--头部模块-->
				<s:ModuleLoader id="HeadModule" autoLayout="true" width="100%" height="100" progress="main.Module_progressHandler(event)" ready="main.Module_readyHandler(event)"/>
				<!--核心游戏模块-->
				<s:ModuleLoader id="MainModule" autoLayout="true" width="100%" height="100%" progress="main.Module_progressHandler(event)" ready="main.Module_readyHandler(event)"/>
				<!--脚部模块-->
				<s:ModuleLoader id="FootModule" autoLayout="true" width="100%" height="50" progress="main.Module_progressHandler(event)" ready="main.Module_readyHandler(event)"/>
			</s:VGroup>
		</s:NavigatorContent>
			
		</mx:ViewStack>
	</s:VGroup>
</s:Application>
